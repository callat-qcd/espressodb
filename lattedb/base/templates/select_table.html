{% extends 'base.html' %}
{% load bootstrap4 %}
{% block content %}
{% load widget_tweaks %}

<div class="jumbotron">
    <h1>
        {% if not request.session.root %}
            Which table do you want to populate?
        {% else %}
            Populating {{request.session.root}}
        {% endif %}
    </h1>
</div>
<div class="container">
    {% if request.session.tree %}
    <table class="table table-striped">
        <thead>
            <tr>
              <th>column</th>
              <th>table</th>
            </tr>
        </thead>
        <tbody>
            {% for key, val in request.session.tree.items %}
            <tr>
                <td>{{key}}</td><td>{{val}}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% endif %}


    <form action="{{form.success}}" method="post" class="form">
    {% csrf_token %}
    {{ field.errors }}
    <div class="input-group">
        {% for field in form %}
        <div class="input-group-prepend">
            <label class="input-group-text" for="id_model">{{ field.label_tag }}</label>
        </div>
        {{ field | add_class:"custom-select"}}
        <div class="input-group-append" id="button-addon4">
          <button class="btn btn-outline-secondary" type="submit" type="submit">Submit</button>
        </div>
        {% endfor %}
    </div>
    </form>
</div>

{% endblock %}
