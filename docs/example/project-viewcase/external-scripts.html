

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Using your project in external modules &mdash; EspressoDB 0.1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="How do I set up the example project myself?" href="../project-creation/index.html" />
    <link rel="prev" title="The private views" href="private-views.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> EspressoDB
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../README.html">EspressoDB</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../README.html#what-does-espressodb-provide">What does EspressoDB provide?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../README.html#how-to-install-it">How to install it?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../README.html#what-s-the-story-behind-it">Whatâ€™s the story behind it?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../README.html#who-is-responsible-for-it">Who is responsible for it?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Usage.html">How to use EspressoDB</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Usage.html#tl-dr">TL;DR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Usage.html#details">Details</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Usage.html#install-espressodb">Install EspressoDB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Usage.html#start-a-project">Start a project</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Usage.html#configure-your-project">Configure your project</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Usage.html#create-or-update-the-database">Create or update the database</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Usage.html#create-migrations">Create migrations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Usage.html#migrate-changes">Migrate changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Usage.html#launch-a-local-web-app">Launch a local web app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Usage.html#create-a-new-app">Create a new app</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Usage.html#install-your-project-locally">Install your project locally</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">The example project</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">What can I do?</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="install.html">Install the project</a></li>
<li class="toctree-l3"><a class="reference internal" href="public-views.html">The public views</a><ul>
<li class="toctree-l4"><a class="reference internal" href="public-views.html#the-home-page">The home page</a></li>
<li class="toctree-l4"><a class="reference internal" href="public-views.html#the-doc-page">The doc page</a></li>
<li class="toctree-l4"><a class="reference internal" href="public-views.html#the-population-views">The population views</a></li>
<li class="toctree-l4"><a class="reference internal" href="public-views.html#the-login-page">The login page</a></li>
<li class="toctree-l4"><a class="reference internal" href="public-views.html#the-hamiltonian-status-page">The Hamiltonian status page</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="private-views.html">The private views</a><ul>
<li class="toctree-l4"><a class="reference internal" href="private-views.html#the-notifications-page">The notifications page</a></li>
<li class="toctree-l4"><a class="reference internal" href="private-views.html#the-admin-pages">The admin pages</a></li>
</ul>
</li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Using your project in external modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#installing-your-module">Installing your module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-tables">Using tables</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-add-data-py-script">The <code class="docutils literal notranslate"><span class="pre">add_data.py</span></code> script</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../project-creation/index.html">How do I set up the example project myself?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../project-creation/project-creation.html">Create your own project</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../project-creation/project-creation.html#start-the-project">Start the project</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../project-creation/app-creation.html">Create the hamiltonians app</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../project-creation/app-creation.html#creating-the-infrastructure">Creating the infrastructure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../project-creation/app-creation.html#creating-tables">Creating tables</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../project-creation/adding-data.html">Adding data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../project-creation/adding-data.html#the-admin-page">The admin page</a></li>
<li class="toctree-l4"><a class="reference internal" href="../project-creation/adding-data.html#data-scripts">Data scripts</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../project-creation/class-interface.html">Providing short cuts with class methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="../project-creation/dependencies.html">Adding tables with relationships</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../project-creation/dependencies.html#updating-the-models">Updating the models</a></li>
<li class="toctree-l4"><a class="reference internal" href="../project-creation/dependencies.html#updating-the-run-script">Updating the run script</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../project-creation/views.html">Creating web views for summaries</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../project-creation/views.html#adjusting-the-index-template">Adjusting the index template</a></li>
<li class="toctree-l4"><a class="reference internal" href="../project-creation/views.html#views-with-plots">Views with plots</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../project-creation/inheritance.html">More complicated tables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../project-creation/inheritance.html#in-which-scenario-are-they-helpful">In which scenario are they helpful</a></li>
<li class="toctree-l4"><a class="reference internal" href="../project-creation/inheritance.html#implementation-of-common-base">Implementation of common base</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../features/index.html">Features</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../features/base.html">Base</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../features/documentation.html">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../features/management.html">Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../features/notifications.html">The notifications module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">API Reference of EspressoDB</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/base/index.html">espressodb.base</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/base/admin.html">admin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/base/models.html">models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/base/static.html">static</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/base/urls.html">urls</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/base/views.html">views</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/base/utilities/index.html">utilities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/base/utilities/apps.html">apps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/base/utilities/blackmagicsorcery.html">blackmagicsorcery</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/base/utilities/models.html">models</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/base/templatetags/index.html">templatetags</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/base/templatetags/base_extras.html">base_extras</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api/documentation/index.html">espressodb.documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/documentation/urls.html">urls</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/documentation/views.html">views</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/documentation/templatetags/index.html">templatetags</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/documentation/templatetags/documentation_extras.html">documentation_extras</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api/notifications/index.html">espressodb.notifications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/notifications/models.html">models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/notifications/urls.html">urls</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/notifications/views.html">views</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/notifications/templatetags/index.html">templatetags</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/notifications/templatetags/notification_extras.html">notifications_extras</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api/management/index.html">espressodb.management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/management/utilities/index.html">utilities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/management/utilities/files.html">files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/management/utilities/settings.html">settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/management/utilities/version.html">version</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/management/management_commands/index.html">commands</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/management/management_commands/info.html">info</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/management/management_commands/startapp.html">startapp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/management/management_commands/startproject.html">startproject</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api/summary.html">Summary of EspressoDB functionality</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/summary.html#urls">URLs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/summary.html#module-espressodb-base-urls"><strong>Module</strong>: <code class="xref py py-mod docutils literal notranslate"><span class="pre">espressodb.base.urls</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/summary.html#module-espressodb-documentation-urls"><strong>Module</strong>: <code class="xref py py-mod docutils literal notranslate"><span class="pre">espressodb.documentation.urls</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/summary.html#module-espressodb-notifications-urls"><strong>Module</strong>: <code class="xref py py-mod docutils literal notranslate"><span class="pre">espressodb.notifications.urls</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/summary.html#templatetags">Templatetags</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/summary.html#module-espressodb-base-templatetags-base-extras"><strong>Module</strong>: <code class="xref py py-mod docutils literal notranslate"><span class="pre">espressodb.base.templatetags.base_extras</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/summary.html#module-espressodb-documentation-templatetags-documentation-extras"><strong>Module</strong>: <code class="xref py py-mod docutils literal notranslate"><span class="pre">espressodb.documentation.templatetags.documentation_extras</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/summary.html#module-espressodb-notifications-templatetags-notifications-extras"><strong>Module</strong>: <code class="xref py py-mod docutils literal notranslate"><span class="pre">espressodb.notifications.templatetags.notifications_extras</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">EspressoDB</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">The example project</a> &raquo;</li>
        
          <li><a href="index.html">What can I do?</a> &raquo;</li>
        
      <li>Using your project in external modules</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/example/project-viewcase/external-scripts.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="using-your-project-in-external-modules">
<h1>Using your project in external modules<a class="headerlink" href="#using-your-project-in-external-modules" title="Permalink to this headline">Â¶</a></h1>
<p>There are two ways to use your project in an external module or script</p>
<ol class="simple">
<li><p>Place your external script in the project root directory</p></li>
<li><p>Install your module</p></li>
</ol>
<div class="section" id="installing-your-module">
<h2>Installing your module<a class="headerlink" href="#installing-your-module" title="Permalink to this headline">Â¶</a></h2>
<p>On project creation, EspressoDB also creates a <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> file in the project root directory.</p>
<p>After <a class="reference external" href="https://docs.python.org/3.7/distutils/setupscript.html">adjusting this file to your needs</a>, you can run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="p">[</span><span class="o">--</span><span class="n">user</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">e</span><span class="p">]</span> <span class="o">.</span>
</pre></div>
</div>
<p>This will place <code class="docutils literal notranslate"><span class="pre">my_project</span></code> in your Python path.
The <code class="docutils literal notranslate"><span class="pre">[-e]</span></code> options symlinks the install against this folder and can be useful incase you want to continue updating this module, e.g., for development purposes.
You can also run this in a virtual environment.</p>
</div>
<div class="section" id="using-tables">
<h2>Using tables<a class="headerlink" href="#using-tables" title="Permalink to this headline">Â¶</a></h2>
<p>Tables or models on the Python side are classes which can be adjusted to your means.
Each row in the table can be loaded into a Python class instance.
Each column in the table will be an attribute of the instance.
You can thus filter the database to extract the class you where interested in, adjust itâ€™s attributes and push it back to the database.
For example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">my_project.hamiltonian.models</span> <span class="k">import</span> <span class="n">Contact</span> <span class="k">as</span> <span class="n">ContactHamiltonian</span>

<span class="o">...</span>

<span class="c1"># Search all the table entries for this value and give me the first match</span>
<span class="n">hamiltonian</span> <span class="o">=</span> <span class="n">ContactHamiltonian</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
    <span class="n">n_sites</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">spacing</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span> <span class="n">c</span><span class="o">=-</span><span class="mi">1</span>
<span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

<span class="c1"># Adjust the attribute</span>
<span class="n">hamiltonian</span><span class="o">.</span><span class="n">c</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span>

<span class="c1"># And push back the modifications to the table</span>
<span class="n">hamiltonian</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
<p>The results of this action will thus also be visible from the web view.</p>
</div>
<div class="section" id="the-add-data-py-script">
<h2>The <code class="docutils literal notranslate"><span class="pre">add_data.py</span></code> script<a class="headerlink" href="#the-add-data-py-script" title="Permalink to this headline">Â¶</a></h2>
<p>The example project comes with a script <code class="docutils literal notranslate"><span class="pre">add_data.py</span></code>.
This script defines a range of computations for which eigenvalues of the contact hamiltonian will be computed.</p>
<p>It checks if for a given hamiltonian, the eigenvalues are already present.
If for a specific hamiltonian, you have less eigenvalues then expected, it assumes that the computation failed,
deletes existing eigenvalues from the database and recomputes them.
It also logs creation and deletion events using the <code class="docutils literal notranslate"><span class="pre">espressodb.notifications</span></code> module.
After you have run the script, you can revisit the homepage and check the status or notifications page.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../project-creation/index.html" class="btn btn-neutral float-right" title="How do I set up the example project myself?" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="private-views.html" class="btn btn-neutral float-left" title="The private views" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Christopher KÃ¶rber, Jason Chang

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>